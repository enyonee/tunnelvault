"""Russian UI strings for tunnelvault."""

STRINGS: dict[str, str] = {
    # --- ui.py ---
    "ui.not_set": "не задано",
    "ui.enter": "Введите: ",
    "ui.enter_default": "Введите [{default}]: ",
    "ui.fix_retry": "Исправьте и введите заново",
    "ui.routes_title": "Маршруты: {name}",
    "ui.routes_desc": "Хосты и сети через этот туннель",
    "ui.routes_comma": "(через запятую)",
    "ui.routes_empty": "Пусто = нативный роутинг (VPN сам решает маршруты)",
    "ui.routes_fmt_title": "Форматы:",
    "ui.routes_fmt_cidr": "10.0.0.0/8        - подсеть (CIDR)",
    "ui.routes_fmt_ip": "192.168.1.1       - IP-адрес",
    "ui.routes_fmt_wildcard": "*.internal.lan    - домен (wildcard -> DNS)",
    "ui.routes_fmt_host": "git.myhost.com   - хост (резолв при подключении)",
    "ui.target_network": "подсеть",
    "ui.target_host": "IP",
    "ui.target_domain": "домен",
    "ui.target_hostname": "хост",
    "ui.dns_servers_for": "DNS серверы для доменов {domains}:",
    "ui.dns_comma": "(IP-адреса через запятую, пусто = пропуск)",
    "ui.invalid_ip": "{item} - невалидный IP-адрес",
    "ui.summary_title": "ИТОГ ПОДКЛЮЧЕНИЯ",
    "ui.tunnels": "ТУННЕЛИ",
    "ui.checks_header": "ПРОВЕРКИ  {passed}/{total}",
    "ui.logs": "ЛОГИ",

    # --- tunnelvault.py (main) ---
    "main.one_command": "Можно указать только одну команду",
    "main.interrupted": "Прервано ({name})",
    "main.cleaning_vpn": "Очистка VPN-процессов...",
    "main.log_colon": "Лог: {path}",
    "main.crashed": "Скрипт упал",
    "main.check_title": "tunnelvault - проверка подключений",
    "main.not_found": "не найден",
    "main.total": "Итого: {passed} ok {failed} fail {skipped} skip",
    "main.external_ip": "Внешний IP: {ip}",
    "main.log_files": "Лог-файлы:",
    "main.log_tail_hint": "Tail: ./tvpn --logs <имя>",
    "main.unknown_log": "Неизвестный лог '{name}'. Доступные: {available}",
    "main.file_not_found": "Файл не найден: {path}",
    "main.needs_sudo": "Эта команда требует прав root (sudo)",
    "main.not_connected": "не подключен",
    "main.skipped_binary": "Профиль '{name}' пропущен - '{binary}' не установлен",
    "main.keepalive_started": "Keepalive: мониторинг каждые {interval}с (авто-реконнект при sleep/wake)",
    "main.keepalive_reconnecting": "Переподключение ({reason})...",
    "main.keepalive_reason_wake": "выход из сна",
    "main.keepalive_reason_dead": "процесс умер",
    "main.keepalive_reconnected": "Переподключено {ok}/{total}: {names}",
    "main.keepalive_failed": "Переподключение не удалось: {error}",

    # --- config.py ---
    "config.settings_loaded": "Настройки: загружены",
    "config.settings_error": "Настройки: ошибка чтения",
    "config.settings_migrated": "Настройки: мигрированы из .vpn-settings",
    "config.settings_not_found": "Настройки: не найдены",
    "config.settings_will_create": "(будет создан {file})",
    "config.settings_saved": "Настройки сохранены",
    "config.source_auto": "авто",
    "config.cert_sha256": "SHA256 сертификата",
    "config.cert_generating": "Генерация SHA256 сертификата из {host}:{port}...",
    "config.cert_generated": "Сгенерирован: {cert}...",
    "config.cert_connect_failed": "Не удалось подключиться к {host}:{port}",
    "config.cert_not_generated": "Сертификат не сгенерирован для {host}:{port}. Запустите с --setup.",
    "config.param_not_set": "Параметр '{label}' не задан. Запустите с --setup для настройки.",
    "config.routes_label": "Маршруты ({name})",
    "config.routes_native": "нативный роутинг",
    "config.routes_count": "{nets} сетей, {hosts} хостов",

    # --- defaults.py ---
    "defaults.not_found": "Не найден {file}",
    "defaults.expected_at": "Ожидается в: {path}",
    "defaults.parse_error": "Ошибка парсинга {file}: {error}",
    "defaults.no_tunnels": "{file}: отсутствует секция [tunnels.*]",
    "defaults.format_hint": 'Формат: [tunnels.<имя>] с полем type = "openvpn" | "fortivpn" | "singbox"',
    "defaults.loaded": "Defaults: загружены",
    "defaults.iface_conflict": "Туннели '{a}' и '{b}' используют один интерфейс '{iface}'",
    "defaults.log_conflict": "Туннели '{a}' и '{b}' используют один лог '{log}'",
    "defaults.config_conflict": "Туннели '{a}' и '{b}' (type={type}) используют один config_file '{cf}'. Укажите разные config_file в [tunnels.*]",
    "defaults.unknown_tunnels": "Неизвестные туннели: {unknown}. Доступные: {available}",
    "defaults.no_tunnels_available": "(нет туннелей)",

    # --- checks.py ---
    "check.skip": "пропуск",
    "check.port_open": "порт открыт",
    "check.port_closed": "порт закрыт",
    "check.resolves": "резолвит",
    "check.no_resolve": "не резолвит",
    "check.timeout": "таймаут",
    "check.ping_ok": "ping ok",
    "check.no_ping": "не пингуется",
    "check.external_ip": "Внешний IP",
    "check.checks_title": "Проверка подключений",

    # --- engine.py ---
    "engine.clearing": "Отключаю предыдущие подключения...",
    "engine.disable_ipv6": "Отключаю IPv6...",
    "engine.host_routes": "Host routes через {gw}",
    "engine.no_gateway": "Не удалось определить default gateway",
    "engine.bypass_routes": "Bypass routes через {gw}",
    "engine.dns_bypass_proxy": "DNS bypass proxy: {suffixes}",
    "engine.dns_proxy_failed": "DNS bypass proxy не запустился: {error}",
    "engine.profiles": "Профили: {names}",
    "engine.params_section": "Параметры: {name}",
    "engine.settings_incomplete": "Настройки неполные, запускаю wizard...",
    "engine.binary_not_found": "'{binary}' не найден, пропускаю профиль '{name}' (установите пакет для использования)",
    "engine.no_available_tunnels": "Нет доступных туннелей - все необходимые VPN-пакеты отсутствуют",

    # --- disconnect.py ---
    "disc.deleting_routes": "Удаляю маршруты...",
    "disc.deleting_bypass": "Удаляю bypass-маршруты...",
    "disc.deleting_dns_bypass": "Удаляю DNS bypass resolver-файлы...",
    "disc.extra_resolvers": "Найдены лишние resolver-файлы: {files}",
    "disc.restore_ipv6": "Восстанавливаю IPv6...",
    "disc.all_disconnected": "Всё отключено",
    "disc.disconnecting": "Отключаю {name}...",

    # --- status.py ---
    "status.title": "tunnelvault - статус",
    "status.vpn_processes": "VPN-процессы",
    "status.no_vpn_processes": "нет запущенных VPN-процессов",
    "status.tunnel_ifaces": "Туннельные интерфейсы",
    "status.no_tunnel_ifaces": "нет туннельных интерфейсов",
    "status.resolver_files": "Resolver-файлы",
    "status.no_resolver_dir": "нет ({dir} не существует)",
    "status.resolver_read_error": "не удалось прочитать {dir}",
    "status.no_resolver_files": "нет resolver-файлов tunnelvault",
    "status.gateway_unknown": "не определён",
    "status.external_ip": "Внешний IP",
    "status.external_ip_fail": "не удалось определить",

    # --- validate.py ---
    "validate.title": "tunnelvault - валидация конфигурации",
    "validate.no_tunnels": "Нет секций [tunnels.*]",
    "validate.missing_type": "отсутствует поле 'type'",
    "validate.unknown_type": "неизвестный type '{type}'. Доступные: {available}",
    "validate.absolute_path": "config_file '{cf}' - абсолютный путь",
    "validate.config_not_found": "config_file '{cf}' не найден",
    "validate.config_duplicate": "config_file '{cf}' уже используется в [tunnels.{other}]",
    "validate.invalid_cidr": "'{n}' - невалидный CIDR",
    "validate.ip_no_mask": "'{n}' - IP без маски, используйте CIDR (например {n}/32)",
    "validate.dns_no_ns": "dns.domains без dns.nameservers",
    "validate.param_needs_env": "auth.{key} ({label}) не задан - потребуется ENV/wizard",
    "validate.config_will_default": "config_file ({label}) не задан - будет использован default",
    "validate.binary_not_found": "'{binary}' не установлен - этот туннель будет пропущен",
    "validate.missing_check_host": "checks.ports: отсутствует 'host'",
    "validate.missing_check_port": "checks.ports: отсутствует 'port'",
    "validate.suffix_no_dot": "'{suffix}' не начинается с точки",
    "validate.errors_title": "Ошибки ({count}):",
    "validate.warnings_title": "Предупреждения ({count}):",
    "validate.config_valid": "Конфигурация валидна",
    "validate.no_critical_errors": "Критических ошибок нет",

    # --- watch.py ---
    "watch.loading": "Сбор данных",
    "watch.no_active_vpn": "нет активных VPN",
    "watch.traffic": "Трафик",
    "watch.no_connections": "нет соединений",
    "watch.more_connections": "... ещё {count}",
    "watch.exit_hint": "Ctrl+C для выхода",

    # --- vpn/openvpn.py ---
    "vpn.ovpn.not_connected": "OpenVPN не подключился за {timeout}с",
    "vpn.ovpn.alive_no_iface": "Процесс жив (PID={pid}), но интерфейс не появился",
    "vpn.ovpn.exited": "Процесс завершился (PID={pid})",
    "vpn.ovpn.pid_not_found": "PID не найден после запуска",
    "vpn.ovpn.log_hint": "Лог: cat {path}",
    "vpn.ovpn.tunnelblick_active": "Tunnelblick OpenVPN активен (PID={pid}), пропускаю свой OpenVPN",
    "vpn.ovpn.connected": "OpenVPN подключен ({iface})",
    "vpn.ovpn.using_tunnelblick": "OpenVPN подключен (Tunnelblick)",

    # --- vpn/fortivpn.py ---
    "vpn.forti.not_connected": "FortiVPN не поднялся за {timeout}с",
    "vpn.forti.alive_no_iface": "Процесс жив (PID={pid}), но {label} не появился",
    "vpn.forti.exited": "Процесс завершился с кодом: {rc}",
    "vpn.forti.log_hint": "Лог: {path}",
    "vpn.forti.connected": "FortiVPN подключен ({iface})",
    "vpn.forti.no_gw_fallback": "Не удалось определить PPP gateway, используем fallback: {gw}",
    "vpn.forti.no_gw": "Не удалось определить PPP gateway, маршруты могут не работать",

    # --- vpn/singbox.py ---
    "vpn.sb.not_connected": "sing-box не поднялся за {timeout}с",
    "vpn.sb.alive_no_iface": "Процесс жив (PID={pid}), но интерфейс не появился",
    "vpn.sb.exited": "Процесс завершился с кодом: {rc}",
    "vpn.sb.log_hint": "Лог: {path}",
    "vpn.sb.connected": "sing-box подключен ({iface})",

    # --- ConfigParam labels ---
    "param.ovpn_config": "OpenVPN конфиг",
    "param.sb_config": "sing-box конфиг",
    "param.host": "Хост",
    "param.port": "Порт",
    "param.login": "Логин",
    "param.password": "Пароль",
    "param.cert_mode": "Сертификат (auto/manual)",
    "param.cert_sha256": "SHA256 сертификата",
    "param.fallback_gw": "Fallback GW",

    # --- daemon.py ---
    "daemon.installed": "Демон установлен и загружен",
    "daemon.install_failed": "Не удалось установить демон: {error}",
    "daemon.uninstalled": "Демон выгружен и удалён",
    "daemon.not_installed": "Демон не установлен",
    "daemon.label": "Сервис",
    "daemon.status_label": "Статус",
    "daemon.plist_label": "Plist",
    "daemon.running": "запущен",
    "daemon.stopped": "остановлен",
    "daemon.log_hint": "Лог: tail -f {path}",

    # --- routing.py ---
    "routing.wildcard_no_dot": "*.{domain} - домен должен содержать точку (*.example.local)",
    "routing.invalid_cidr": "{target} - невалидный CIDR",
    "routing.invalid_ip": "{target} - невалидный IP-адрес",
    "routing.unrecognized": "{target} - нераспознанный формат",

    # --- proc.py ---
    "proc.waiting": "Ожидание {desc}...",

    # --- status.py ---
    "status.gateway_title": "Default gateway",

    # --- CLI help strings ---
    "cli.desc": "tunnelvault - менеджер мульти-VPN подключений",
    "cli.disconnect": "Отключить все VPN",
    "cli.clear": "Отключить предыдущие VPN перед подключением (по умолчанию не трогает)",
    "cli.setup": "Интерактивная настройка (wizard)",
    "cli.debug": "DEBUG-вывод в stderr",
    "cli.log_level": "Уровень логирования (по умолчанию из конфига)",
    "cli.status": "Показать текущее состояние VPN",
    "cli.check": "Проверить существующие подключения",
    "cli.reset": "Полный сброс VPN-артефактов",
    "cli.validate": "Валидация конфигурации",
    "cli.only": "Фильтр туннелей (через запятую): --only openvpn,fortivpn",
    "cli.logs": "Лог-файлы (--logs) или tail (--logs openvpn)",
    "cli.watch": "Мониторинг VPN-трафика в реальном времени",
    "cli.all": "Показать все VPN-интерфейсы (включая системные)",
    "cli.keepalive": "Оставаться запущенным и авто-реконнект при sleep/wake",
    "cli.daemon": "Демон: install/uninstall/status (launchd keepalive сервис)",
}
